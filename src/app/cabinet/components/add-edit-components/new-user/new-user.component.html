<div class="main-container">
  <div class="title d-flex justify-content-between align-items-center pt-4">
    <div><h1>İstifadəçi məlumatları</h1></div>
  </div>

  <form [formGroup]="form" (submit)="submit()">
    <label for="firstName">Adı:</label>
    <input type="text" pInputText formControlName="firstName" />
    <p
      class="invalid-message"
      *ngIf="form.get('firstName').touched && form.get('firstName').invalid"
    >
      Bu xana boş ola bilməz
    </p>
    <label for="lastName">Soyadı:</label>
    <input type="text" pInputText formControlName="lastName" />
    <p
      class="invalid-message"
      *ngIf="form.get('lastName').touched && form.get('lastName').invalid"
    >
      Bu xana boş ola bilməz
    </p>
    <label for="username">İstifadəçi adı:</label>
    <input type="text" pInputText formControlName="username" />
    <p
      class="invalid-message"
      *ngIf="form.get('username').touched && form.get('username').invalid"
    >
      Bu xana boş ola bilməz
    </p>
    @if(!entityId){
    <label for="password">Şifrə:</label><br />
    <p-password [toggleMask]="true" formControlName="password" /><br />
    <p
      class="invalid-message"
      *ngIf="form.get('password').touched && form.get('password').invalid"
    >
      Bu xana boş ola bilməz
    </p>
    }

    <label for="operationClaimIds">Rol:</label><br />
    <p-multiSelect
      class="w-100"
      [options]="roles"
      placeholder="Rol seçin"
      optionLabel="name"
      optionValue="id"
      emptyFilterMessage="Məlumat tapılmadı"
      [filter]="true"
      filterBy="value"
      [showClear]="true"
      [autoZIndex]="true"
      [baseZIndex]="1000"
      appendTo="body"
      formControlName="operationClaimIds"
      [virtualScroll]="true"
      [showToggleAll]="false"
      [virtualScrollItemSize]="46"
      appendTo="body"
    >
      <ng-template pTemplate="selectedItem" let-item>
        <span class="custom-item">{{ item.name }}</span>
      </ng-template>
    </p-multiSelect>
    @if(entityId){
    <p-checkbox [binary]="true" inputId="binary"  formControlName="status" class="pt-4 pe-1"/> Aktiv
    }

    <div class="d-flex justify-content-end">
      <button
        class="add-btn px-4 py-2 mt-3"
        type="submit"
        [disabled]="form.invalid"
      >
        {{ entityId ? "Yadda saxla" : "Əlavə et" }}
      </button>
    </div>
  </form>
</div>
